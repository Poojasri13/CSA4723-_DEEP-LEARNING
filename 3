x=[1,2,3,4,5]; y=[2,4,5,4,5]
n=len(x)
m=(n*sum(x[i]*y[i] for i in range(n))-sum(x)*sum(y))/float(n*sum(i*i for i in x)-sum(x)**2)
b=(sum(y)-m*sum(x))/n
y_pred=[m*i+b for i in x]
r2=1-sum((y[i]-y_pred[i])**2 for i in range(n))/sum((y[i]-sum(y)/n)**2 for i in range(n))
print("m=%.2f b=%.2f RÂ²=%.2f"%(m,b,r2))
